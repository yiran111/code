<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>周公解梦</title>
		<style>
			#container{
				width: 400px;
				height: 400px;
				border: 1px solid black;
				margin: 0 auto;
			}
			#content{
				display: inline-block;
				width: 300px;
				height: 30px;
				line-height: 30px;
				text-align: center;
				margin: 20px 20px;
			}
			#ok{
				height: 30px;
				
				
			}
		</style>
	</head>
	<body>
		<div id="container">
			<input id="content" type="text" placeholder="你要解析的关键词">
			<button id="ok">解析</button>
			<div id="hint"></div>
		</div>
		<script src="js/mylib.js"></script>
		<script>
			+function(){
				bind($('ok'),'click',function(){
					var xhr =new XMLHttpRequest ;//创建异步请求对象
					if(xhr){
						var url = "http://api.tianapi.com/txapi/dream/?key=bd3755ffd8c953899c9ee439644e019c";
						xhr.open('get',url,true);
						xhr.onreadystatechange = function(){
							var json = JSON.parse(xhr.responseText);
							var text =encodeURIComponent(json.newtext);
							
							$('hint').innerHTML += '<p>' + text + '</p>';
						}
					}
				});
			}();
		</script>
	</body>
</html>
